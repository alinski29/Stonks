<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Types · Stonks.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.jpg" alt="Stonks.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Stonks.jl</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li><span class="tocitem">User guide</span><ul><li><a class="tocitem" href="basic_usage.html">Basic usage</a></li><li><a class="tocitem" href="advanced_usage.html">Advanced usage</a></li></ul></li><li><span class="tocitem">API</span><ul><li class="is-active"><a class="tocitem" href="api_types.html">Types</a><ul class="internal"><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#Data-Models"><span>Data Models</span></a></li><li><a class="tocitem" href="#API-Clients"><span>API Clients</span></a></li><li><a class="tocitem" href="#Content-Parsers"><span>Content Parsers</span></a></li><li><a class="tocitem" href="#Stores"><span>Stores</span></a></li></ul></li><li><a class="tocitem" href="api_functions.html">Functions</a></li></ul></li><li><a class="tocitem" href="contributing.html">Contributing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API</a></li><li class="is-active"><a href="api_types.html">Types</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="api_types.html">Types</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/alinski29/Stonks.jl/blob/master/docs/src/api_types.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h1><hr/><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="api_types.html#Stonks.APIClients.APIClient"><code>Stonks.APIClients.APIClient</code></a></li><li><a href="api_types.html#Stonks.APIClients.APIResource"><code>Stonks.APIClients.APIResource</code></a></li><li><a href="api_types.html#Stonks.APIClients.AbstractDataClient"><code>Stonks.APIClients.AbstractDataClient</code></a></li><li><a href="api_types.html#Stonks.Models.AbstractStonksRecord"><code>Stonks.Models.AbstractStonksRecord</code></a></li><li><a href="api_types.html#Stonks.Models.AssetInfo"><code>Stonks.Models.AssetInfo</code></a></li><li><a href="api_types.html#Stonks.Models.AssetPrice"><code>Stonks.Models.AssetPrice</code></a></li><li><a href="api_types.html#Stonks.Models.ExchangeRate"><code>Stonks.Models.ExchangeRate</code></a></li><li><a href="api_types.html#Stonks.Parsers.AbstractContentParser"><code>Stonks.Parsers.AbstractContentParser</code></a></li><li><a href="api_types.html#Stonks.Parsers.CSVParser"><code>Stonks.Parsers.CSVParser</code></a></li><li><a href="api_types.html#Stonks.Parsers.JSONParser"><code>Stonks.Parsers.JSONParser</code></a></li><li><a href="api_types.html#Stonks.Stores.AbstractStore"><code>Stonks.Stores.AbstractStore</code></a></li><li><a href="api_types.html#Stonks.Stores.FileStore"><code>Stonks.Stores.FileStore</code></a></li></ul><hr/><h2 id="Data-Models"><a class="docs-heading-anchor" href="#Data-Models">Data Models</a><a id="Data-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Models" title="Permalink"></a></h2><p>Defines the types into which data will be deserialized.</p><article class="docstring"><header><a class="docstring-binding" id="Stonks.Models.AbstractStonksRecord" href="#Stonks.Models.AbstractStonksRecord"><code>Stonks.Models.AbstractStonksRecord</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type inteded to be subtyped by an data model.</p><p>All subtypes are constructed from keyword args and optional values default to <code>missing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/alinski29/Stonks.jl/blob/8cb30d372bd87cff861cac439eca043fcfad8d75/src/Models.jl#L11-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stonks.Models.AssetInfo" href="#Stonks.Models.AssetInfo"><code>Stonks.Models.AssetInfo</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Stores general information about a quoted symbol / ticker.</p><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">AssetInfo(;
  symbol::String,
  currency::String,
  name::Union{String,Missing}=missing,
  type::Union{String,Missing}=missing,
  exchange::Union{String,Missing}=missing,
  country::Union{String,Missing}=missing,
  industry::Union{String,Missing}=missing,
  sector::Union{String,Missing}=missing,
  timezone::Union{String,Missing}=missing,
  employees::Union{Integer,Missing}=missing,
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/alinski29/Stonks.jl/blob/8cb30d372bd87cff861cac439eca043fcfad8d75/src/Models.jl#L18-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stonks.Models.AssetPrice" href="#Stonks.Models.AssetPrice"><code>Stonks.Models.AssetPrice</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Stores a time series datapoint with price information. Lowest frequency is daily.</p><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">AssetPrice(
  symbol::String,
  date::Date,
  close::Float64,
  open::Union{Float64,Missing} = missing,
  high::Union{Float64,Missing} = missing,
  low::Union{Float64,Missing} = missing,
  close_adjusted::Union{Float64,Missing} = missing,
  volume::Union{Integer,Missing} = missing,
)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/alinski29/Stonks.jl/blob/8cb30d372bd87cff861cac439eca043fcfad8d75/src/Models.jl#L49-L66">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stonks.Models.ExchangeRate" href="#Stonks.Models.ExchangeRate"><code>Stonks.Models.ExchangeRate</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Stores an exchange rate datapoint. Lowest frequency is daily.</p><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">ExchangeRate(;
  base::String,
  target::String,
  date::Date,
  rate::Float64,
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/alinski29/Stonks.jl/blob/8cb30d372bd87cff861cac439eca043fcfad8d75/src/Models.jl#L78-L90">source</a></section></article><hr/><h2 id="API-Clients"><a class="docs-heading-anchor" href="#API-Clients">API Clients</a><a id="API-Clients-1"></a><a class="docs-heading-anchor-permalink" href="#API-Clients" title="Permalink"></a></h2><p>Stores information required to make requests HTTP APIs.</p><article class="docstring"><header><a class="docstring-binding" id="Stonks.APIClients.AbstractDataClient" href="#Stonks.APIClients.AbstractDataClient"><code>Stonks.APIClients.AbstractDataClient</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type to be subtyped by any type responsible for data retrieval, like HTTP API or web socket.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/alinski29/Stonks.jl/blob/8cb30d372bd87cff861cac439eca043fcfad8d75/src/APIClients.jl#L15-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stonks.APIClients.APIResource" href="#Stonks.APIClients.APIResource"><code>Stonks.APIClients.APIResource</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">APIResource{T&lt;:AbstractStonksRecord}</code></pre><p>Stores data required to make requests to an API resource.</p><p><strong>Fields</strong></p><ul><li><code>url::String</code>: the url of the API resource, excluding query parameters</li><li><code>query_params::Dict{String, String}</code>: parameters used in the request</li><li><code>parser::AbstractContentParser</code>: a subtype of <code>AbstractContentParser</code> implementing <code>parse_content</code></li><li><code>headers::Dict{String,String}</code>: HTTP headers</li><li><code>symbol_key::String</code>: indicates the identifier for the symbol</li><li><code>max_batch_size::Integer</code>: the maximum number of symbols allowed in a single request</li><li><code>max_retries::Integer</code>: how many times to retry a failed request</li><li><code>rank_order::Integer</code>: if multiple <code>APIResource</code> capable of handling <code>T</code>, the one with highest values is preffered.</li></ul><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">APIResource{T}(;
  url::String, 
  parser::AbstractContentParser,
  headers::Dict{String, String} = Dict(),
  query_params::Dict{String, String} = Dict(),
  symbol_key::String = max_batch_size &gt; 1 ? &quot;symbols&quot; : &quot;symbol&quot;,
  max_batch_size::String = 1,
  max_retries::Integer = 0,
  rank_order::Integer = 1,
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/alinski29/Stonks.jl/blob/8cb30d372bd87cff861cac439eca043fcfad8d75/src/APIClients.jl#L20-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stonks.APIClients.APIClient" href="#Stonks.APIClients.APIClient"><code>Stonks.APIClients.APIClient</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Groups collection of <code>APIResource</code>. Can hold resources from the same or different API.</p><p><strong>Fields</strong></p><ul><li><code>resources::Dict{String,APIResource}</code></li><li><code>[url::String]</code>: for descriptive purposes. should be ommited if you mix in resources from different APIs.</li></ul><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">APIClient(resources::Dict{String, APIResource}, url::String=&quot;&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/alinski29/Stonks.jl/blob/8cb30d372bd87cff861cac439eca043fcfad8d75/src/APIClients.jl#L77-L88">source</a></section></article><hr/><h2 id="Content-Parsers"><a class="docs-heading-anchor" href="#Content-Parsers">Content Parsers</a><a id="Content-Parsers-1"></a><a class="docs-heading-anchor-permalink" href="#Content-Parsers" title="Permalink"></a></h2><p>Parsers transform the content received from n HTTP request into a <code>Vector{&lt;:AbstractStonxRecord}</code></p><article class="docstring"><header><a class="docstring-binding" id="Stonks.Parsers.AbstractContentParser" href="#Stonks.Parsers.AbstractContentParser"><code>Stonks.Parsers.AbstractContentParser</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type to be subclassed by any type of parser.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/alinski29/Stonks.jl/blob/8cb30d372bd87cff861cac439eca043fcfad8d75/src/Parsers.jl#L10-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stonks.Parsers.JSONParser" href="#Stonks.Parsers.JSONParser"><code>Stonks.Parsers.JSONParser</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A wrapper type for a function implementing <code>parse_content</code> interface for JSON content.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/alinski29/Stonks.jl/blob/8cb30d372bd87cff861cac439eca043fcfad8d75/src/Parsers.jl#L15-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stonks.Parsers.CSVParser" href="#Stonks.Parsers.CSVParser"><code>Stonks.Parsers.CSVParser</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A wrapper type for a function implementing <code>parse_content</code> interface for CSV content.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/alinski29/Stonks.jl/blob/8cb30d372bd87cff861cac439eca043fcfad8d75/src/Parsers.jl#L22-L24">source</a></section></article><hr/><h2 id="Stores"><a class="docs-heading-anchor" href="#Stores">Stores</a><a id="Stores-1"></a><a class="docs-heading-anchor-permalink" href="#Stores" title="Permalink"></a></h2><p>Responsible for persisting and retrieving data: <code>Vector{&lt;:AbstractStonxRecord}</code>.</p><article class="docstring"><header><a class="docstring-binding" id="Stonks.Stores.AbstractStore" href="#Stonks.Stores.AbstractStore"><code>Stonks.Stores.AbstractStore</code></a> — <span class="docstring-category">Type</span></header><section><div><p>Abstract type to be subtyped by all types of Stores, like <code>FileStore</code>. <code>DatabaseStore</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/alinski29/Stonks.jl/blob/8cb30d372bd87cff861cac439eca043fcfad8d75/src/Stores.jl#L11-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Stonks.Stores.FileStore" href="#Stonks.Stores.FileStore"><code>Stonks.Stores.FileStore</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FileStore{T&lt;:AbstractStonksRecord}</code></pre><p>Stores all information needed for data storage and retrieval.</p><p><strong>Fields</strong></p><ul><li><code>path::String</code>: absolute or relative path </li><li><code>ids::AbstractVector{AbstractString}</code>: list of identifiers. maximum 2 identifiers</li><li><code>format::String</code>: file format. all files will have the ending like &quot;data.{format}&quot;. default = &quot;csv&quot;</li><li><code>partitions::AbstractVector{AbstractString}</code>: columns used for data partitioning. columns have to be members of T</li><li><code>time_colum::Union{AbstractString, Missing}</code>: column representing time dimension. Can be skipped for <code>AssetPrice</code> and <code>ExchangeRate</code>.</li><li><code>reader::Function</code>: reader(path::String) -&gt; DataFrame</li><li><code>writer::Function</code>: writer(df::AbstractDataFrame, path::String) -&gt; DataFrame</li></ul><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">FileStore{&lt;:AbstractStonksRecord}(;
  path,
  ids,
  format=&quot;csv&quot;,
  partitions=[],
  time_column=missing,
  reader=reader_csv,
  writer=writer_csv,
)

# where,
reader_csv(path::String) = DataFrame(CSV.File(path))
writer_csv(df::AbstractDataFrame, path::String) = CSV.write(path, df)</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia hljs">using Stonks
dest = joinpath(@__DIR__, &quot;data/stonks&quot;)
FileStore{AssetInfo}(; path=dest, ids=[&quot;symbol&quot;])
FileStore{AssetPrice}(; path=dest, ids=[&quot;symbol&quot;], time_column=&quot;date&quot;)
FileStore{AssetPrice}(; path=dest, ids=[:symbol], partitions=[:symbol], time_column =&quot;date&quot;)

using Arrow, DataFrames
read = read_arrow(path::String) = Arrow.Table(path) |&gt; DataFrame
write = write_arrow(df::AbstractDataFrame, path::String) = open(path, &quot;w&quot;) do io Arrow.write(io, df) end
FileStore{ExchangeRate}(; path=dest, ids=[:base, :target], time_column=&quot;date&quot;, reader=read, writer=write)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/alinski29/Stonks.jl/blob/8cb30d372bd87cff861cac439eca043fcfad8d75/src/Stores.jl#L20-L64">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="advanced_usage.html">« Advanced usage</a><a class="docs-footer-nextpage" href="api_functions.html">Functions »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.14 on <span class="colophon-date" title="Wednesday 9 March 2022 14:46">Wednesday 9 March 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
